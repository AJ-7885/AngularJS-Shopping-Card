var sfApp=angular.module("smartFrog",[]).run(function(){console.log("Application has been started....!")});sfApp.controller("shoppingCardCtl",["$scope","shoppingCardFactory",function(a,b){function c(){a.scOneTimeCharge=0,a.scMonthlyCharge=0,a.scShippingCharge=0,angular.forEach(a.shoppingcard,function(b){"once"===b.type&&(a.scOneTimeCharge=b.price*b.qty+a.scOneTimeCharge),"monthly"===b.type&&(a.scMonthlyCharge=b.price*b.qty+a.scMonthlyCharge),a.scShippingCharge=b.shipping*b.qty+a.scShippingCharge}),a.scSubTotalCharge=a.scOneTimeCharge+a.scMonthlyCharge,a.scTotalCharge=a.scSubTotalCharge+a.scShippingCharge,a.scVATCharge=.2*a.scTotalCharge}b.getAllProducts().then(function(b){a.products=b.data}),a.shoppingcard={},a.scOneTimeCharge=0,a.scMonthlyCharge=0,a.scSubTotalCharge=0,a.scShippingCharge=0,a.scTotalCharge=0,a.scVATCharge=0,a.addToCard=function(b){angular.forEach(a.products,function(c){c.id==b&&(a.shoppingcard[b]=c,angular.isDefined(a.shoppingcard[b].qty)?a.shoppingcard[b].qty=a.shoppingcard[b].qty+1:a.shoppingcard[b].qty=1)}),c()},a.removeFromCard=function(b){angular.forEach(a.shoppingcard,function(c){c.id==b&&delete a.shoppingcard[c.id]}),c()},a.displayPackage=function(a){"btnPackageRight"===a&&(console.log(a),console.log($("#btnPackagkeLeft")),$(".btnPackageLeft").css("background-color","#98bfe4"),$(".btnPackageRight").css("background-color","#2f82c4"),$(".btnPackageRight").css("display","block"),$(".package-right").css("display","block"),$(".package-left").css("display","none"),$("#arrowLeft").css("display","none"),$("#arrowRight").css("display","block")),"btnPackageLeft"===a&&(console.log(a),$(".btnPackageRight").css("background-color","#98bfe4"),$(".btnPackageLeft").css("background-color","#2f82c4"),$(".btnPackageLeft").css("display","block"),$(".package-left").css("display","block"),$(".package-right").css("display","none"),$("#arrowLeft").css("display","block"),$("#arrowRight").css("display","none"))},a.onChangeQty=function(){c()},a.removeOne=function(a){a.qty>0&&a.qty--,c()},a.addOne=function(a){a.qty++,c()}}]),sfApp.factory("shoppingCardFactory",["$http",function(a){var b={getAllProducts:function(){var b=a({url:"_/js/store.json",method:"GET"});return b.success(function(a,b,c,d){return a}),b}};return b}]);